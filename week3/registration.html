<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Registration Form</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* Add any additional CSS styles for your form here */
  </style>
</head>
<body>
  <div id="form">
    <h1>Registration Form</h1>
    <div class="input-control">
      <label for="username">Username:</label>
      <input type="text" id="username" placeholder="Enter your username">
      <div class="error" id="username-error"></div>
    </div>
    <div class="input-control">
      <label for="email">Email:</label>
      <input type="email" id="email" placeholder="Enter your email">
      <div class="error" id="email-error"></div>
    </div>
    <div class="input-control">
      <label for="password">Password:</label>
      <input type="password" id="password" placeholder="Enter your password">
      <div class="error" id="password-error"></div>
    </div>
    <div class="input-control">
      <label for="confirm-password">Confirm Password:</label>
      <input type="password" id="confirm-password" placeholder="Confirm your password">
      <div class="error" id="confirm-password-error"></div>
    </div>
    <button id="submit-button">Submit</button>
  </div>

  <script>
  // Function to validate the email format
  function validateEmail(email) {
    const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
    return emailPattern.test(email);
  }

  // Function to validate the password length
  function validatePassword(password) {
    return password.length >= 8;
  }

  // Function to display success or error style for an input element
  function setInputValidation(inputElement, isValid) {
    if (isValid) {
      inputElement.classList.remove("error");
      inputElement.classList.add("success");
    } else {
      inputElement.classList.remove("success");
      inputElement.classList.add("error");
    }
  }

  // Function to handle form submission
  function validateForm(event) {
    event.preventDefault(); // Prevent the form from submitting

    // Get form input elements
    const usernameInput = document.getElementById("username");
    const emailInput = document.getElementById("email");
    const passwordInput = document.getElementById("password");
    const confirmPasswordInput = document.getElementById("confirmPassword");

    // Validate username (not empty)
    const isUsernameValid = usernameInput.value.trim() !== "";
    setInputValidation(usernameInput, isUsernameValid);

    // Validate email (not empty and correct format)
    const isEmailValid = emailInput.value.trim() !== "" && validateEmail(emailInput.value);
    setInputValidation(emailInput, isEmailValid);

    // Validate password (not empty and at least 8 characters)
    const isPasswordValid = passwordInput.value !== "" && validatePassword(passwordInput.value);
    setInputValidation(passwordInput, isPasswordValid);

    // Validate confirm password (not empty and matches password)
    const isConfirmPasswordValid = confirmPasswordInput.value === passwordInput.value && confirmPasswordInput.value !== "";
    setInputValidation(confirmPasswordInput, isConfirmPasswordValid);

    // If all fields are valid, you can submit the form
    if (isUsernameValid && isEmailValid && isPasswordValid && isConfirmPasswordValid) {
      alert("Form submitted successfully!"); // You can replace this with your desired action
    } else {
      alert("Form contains errors. Please correct them.");
    }
  }

  // Add event listeners to each input field for real-time validation
  const usernameInput = document.getElementById("username");
  const emailInput = document.getElementById("email");
  const passwordInput = document.getElementById("password");
  const confirmPasswordInput = document.getElementById("confirmPassword");

  usernameInput.addEventListener("blur", () => {
    const isUsernameValid = usernameInput.value.trim() !== "";
    setInputValidation(usernameInput, isUsernameValid);
  });

  emailInput.addEventListener("blur", () => {
    const isEmailValid = emailInput.value.trim() !== "" && validateEmail(emailInput.value);
    setInputValidation(emailInput, isEmailValid);
  });

  passwordInput.addEventListener("blur", () => {
    const isPasswordValid = passwordInput.value !== "" && validatePassword(passwordInput.value);
    setInputValidation(passwordInput, isPasswordValid);
  });

  confirmPasswordInput.addEventListener("blur", () => {
    const isConfirmPasswordValid = confirmPasswordInput.value === passwordInput.value && confirmPasswordInput.value !== "";
    setInputValidation(confirmPasswordInput, isConfirmPasswordValid);
  });

  // Add a submit event listener to the form
  const form = document.getElementById("registration-form");
  form.addEventListener("submit", validateForm);
</script>
</body>
</html>
